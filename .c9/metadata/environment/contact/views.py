{"changed":true,"filter":false,"title":"views.py","tooltip":"/contact/views.py","value":"from django.shortcuts import render\nfrom django.views.generic import View\nfrom django.http import HttpResponse\nfrom .forms import ContactForm\nfrom django.core.mail import send_mail\nfrom django.contrib import messages\n\n\n# Create your views here.\ndef contact(request):\n    if request.method == 'POST':\n        form = ContactForm(request.POST)\n        if form.is_valid():\n            sender_name = form.cleaned_data['name']\n            sender_email = form.cleaned_data['email']\n\n            message = \"{0} has sent you a new message:\\n\\n{1}\".format(sender_name, form.cleaned_data['message'])\n            send_mail('New Enquiry', message, sender_email, ['enquiry@exampleco.com'])\n            messages.success(request, \"Thankyou for your request. We will be in touch shortly.\")\n            \n    else:\n        form = ContactForm()\n        \n    return render(request, 'contact.html', {'form': form})","undoManager":{"mark":-1,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1578517943550}